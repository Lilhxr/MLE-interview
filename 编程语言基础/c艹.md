### 1. 数据类型长度

- char: 1个字节
- bool: 1个字节
- int: 4个字节, `-2**31~2**31-1`; 如果是无符号整型，范围则是`0~2**32-1`
- long long: 8个字节，`-2**63~2**32-1`; 如果是无符号整型，范围则是`0~2**64-1`
- float: 单精度浮点数，4个字节
- double: 双精度浮点数，8个字节
- 指针：都是4个字节，因为内存中地址是32位的（如果是32位计算机的话）
- string: 24个字节



### 2. 结构体内存分配

对结构题存储的三点要求：

1) 结构体变量的首地址能够被其最宽基本类型成员的大小所整除；

2) 结构体每个成员相对于结构体首地址的偏移量都是成员大小的整数倍，如有需要编译器会在成员之间加上填充字节；

3) 结构体的总大小为结构体**最宽基本类型成员大小的整数倍**，如有需要编译器会在最末一个成员之后加上填充字节

不同顺序来定义结构体的成员，最后的占用空间是不一样的！所以，在这里可以进行内存优化。



### 3. 内存管理

![img](https://pic1.zhimg.com/80/v2-f59ca7bfe6ff81384cf3b7f37e9ce117_1440w.jpeg)

1、栈区— 对应`stack`。由编译器自动分配释放 ，存放函数的**参数**值，**局部变量**的值等。

2、堆区 — 对应`heap`。由new分配的内存块，他们的释放编译器不去管，由我们的应用程序去控制，一般一个new就要对应一个delete。如果程序员没有释放掉，程序会一直占用内存，导致内存泄漏。在程序结束后，操作系统会自动回收。注意它与数据结构中的堆是两回事，分配方式倒是类似于链表。

3、全局区（静态区）—全局变量和静态变量的存储是放在一块的，**初始化**的全局变量和静态变量在一块区域，即`.data`;  **未初始化**的全局变量和未初始化的静态变量在相邻的另一块区域，即`.bss`。程序结束后由系统释放。

4、常量区 —对应`.rodata`(read only data)。不可修改。程序结束后由系统释放。

5、程序代码区—对应`.text`。存放函数体的二进制代码。

