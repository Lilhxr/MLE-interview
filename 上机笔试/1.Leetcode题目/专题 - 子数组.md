# 专题 - 子数组

- dp
- 前缀和

#### 53. 最大子数组和 [easy]

给你一个整数数组 `nums` ，请你找出一个具有最大和的连续子数组（子数组最少包含一个元素），返回其最大和。**子数组** 是数组中的一个连续部分。

**示例 1：**

```python
输入：nums = [-2,1,-3,4,-1,2,1,-5,4]
输出：6
解释：连续子数组 [4,-1,2,1] 的和最大，为 6 。
```

解法：用dp数组去记录**以位置i为结尾的最大子序和**；然后就是求所有位置的max。



### 560. 和为K的子数组

给你一个整数数组 nums 和一个整数 k ，请你统计并返回 该数组中和为 k 的子数组的**个数** 。

```python
示例 1：
输入：nums = [1,1,1], k = 2
输出：2
```

解法：先记录前缀和，然后遍历整个前缀和数组，记录在哈希表中。同时，如果prefix_sum[i]-k本来就在哈希表中，那么就加上prefix_sum[i]-k的出现次数。

```python
class Solution:
    def subarraySum(self, nums, k: int) -> int:
        prefix_sum = []
        cnt = 0
        for i in range(len( nums)):
            cnt += nums[i]
            prefix_sum.append(cnt) ##记录前缀和

        dic = {}
        ans = 0
        for i in range(len(prefix_sum)):
            if prefix_sum[i] - k in dic:
                ans += dic[prefix_sum[i]-k]
                
            if prefix_sum[i] not in dic:
                dic[prefix_sum[i]] = 1
            else:
                dic[prefix_sum[i]] += 1
        if k in dic:
            ans += dic[k]
        return ans
```

