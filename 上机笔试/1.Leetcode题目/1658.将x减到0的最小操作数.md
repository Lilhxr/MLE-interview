

# 1658. 将x减到0的最小操作数

给你一个整数数组 nums 和一个整数 x 。每一次操作时，你应当移除数组 nums 最左边或最右边的元素，然后从 x 中减去该元素的值。请注意，需要 修改 数组以供接下来的操作使用。

如果可以将 x 恰好 减到 0 ，返回 最小操作数 ；否则，返回 -1 。



本题可以退化为**求最长的连续区间和为target的长度**。于是就是经典的**双指针**问题。

这是因为[3,2,20,1,1,3], x= 10，相当于求区间长度为20的最长区间和.

```python
class Solution:
    def minOperations(self, nums, x: int) -> int:
        left = 0
        right = 0
        cnt = 0
        sum = 0
        for i in range(len(nums)):
            sum += nums[i]
        print(sum)

        max_len = -1
        while left < len(nums) and right < len(nums):
            if cnt < sum-x:
                cnt += nums[right]
                right += 1
            while cnt >= sum-x and left < len(nums): ##不要忘记补上这个边界条件
                if cnt == sum-x:
                    max_len = max(max_len,right-left)
                cnt -= nums[left]
                left += 1
        if max_len == -1:
            return -1
        return len(nums)-max_len
```

